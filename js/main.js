!function(t){function e(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,a){return e+e+i+i+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function a(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}var s={},r=function(e,i){this.element=e,this.container,this.timer=null,this.data={text_elements:{Days:null,Hours:null,Minutes:null,Seconds:null},attributes:{canvas:null,context:null,item_size:null,line_width:null,radius:null,outer_radius:null},state:{fading:{Days:!1,Hours:!1,Minutes:!1,Seconds:!1}}},this.listeners=[],this.config=null,this.setOptions(i),this.container=t("<div>"),this.container.addClass("time_circles"),this.container.appendTo(this.element),this.data.attributes.canvas=t("<canvas>"),this.data.attributes.context=this.data.attributes.canvas[0].getContext("2d");var a=this.element.offsetHeight,s=this.element.offsetWidth;0===a&&s>0?a=s/4:0===s&&a>0&&(s=4*a),this.data.attributes.canvas[0].height=a,this.data.attributes.canvas[0].width=s,this.data.attributes.canvas.appendTo(this.container),this.data.attributes.item_size=Math.min(this.data.attributes.canvas[0].width/4,this.data.attributes.canvas[0].height),this.data.attributes.line_width=this.data.attributes.item_size*this.config.fg_width,this.data.attributes.radius=(.8*this.data.attributes.item_size-this.data.attributes.line_width)/2,this.data.attributes.outer_radius=this.data.attributes.radius+.5*Math.max(this.data.attributes.line_width,this.data.attributes.line_width*this.config.bg_width);var r=0;for(var n in this.data.text_elements){var o=t("<div>");o.addClass("textDiv_"+n),o.css("top",Math.round(.35*this.data.attributes.item_size)),o.css("left",Math.round(r++*this.data.attributes.item_size)),o.css("width",this.data.attributes.item_size),o.appendTo(this.container);var h=t("<h4>");h.text(this.config.time[n].text),h.css("font-size",Math.round(.07*this.data.attributes.item_size)),h.css("line-height",Math.round(.07*this.data.attributes.item_size)+"px"),h.appendTo(o);var d=t("<span>");d.css("font-size",Math.round(.21*this.data.attributes.item_size)),d.css("line-height",Math.round(.07*this.data.attributes.item_size)+"px"),d.appendTo(o),this.data.text_elements[n]=d}this.config.start&&this.start()};r.prototype.updateArc=function(){var t,e,i=1e3*this.config.refresh_interval,a=new Date;if(this.config.count_past_zero){var s=a-i;t=Math.abs(a-this.data.attributes.ref_date)/1e3,e=Math.abs(this.data.attributes.ref_date-s)/1e3}else t=Math.max(this.data.attributes.ref_date-a,0)/1e3,e=t+(a>this.data.attributes.ref_date)?0:i;var r={Days:t/60/60/24,Hours:t/60/60%24,Minutes:t/60%60,Seconds:t%60},n={Days:r.Days/365,Hours:r.Hours/24,Minutes:r.Minutes/60,Seconds:r.Seconds/60},o={Days:e/60/60/24,Hours:e/60/60%24,Minutes:e/60%60,Seconds:e%60},h=0,d=null;for(var u in r){this.data.text_elements[u].text(Math.floor(r[u]));var c=h*this.data.attributes.item_size+this.data.attributes.item_size/2,l=this.data.attributes.item_size/2,f=this.config.time[u].color;Math.floor(r[u])!==Math.floor(o[u])&&this.notifyListeners(u,Math.floor(r[u]),Math.floor(t)),null!==d&&(Math.floor(r[d])>Math.floor(o[d])?(this.radialFade(c,l,f,1,u),this.data.state.fading[u]=!0):Math.floor(r[d])<Math.floor(o[d])&&(this.radialFade(c,l,f,0,u),this.data.state.fading[u]=!0)),this.data.state.fading[u]||this.drawArc(c,l,f,n[u]),d=u,h++}},r.prototype.drawArc=function(t,e,i,a){var s=Math.max(this.data.attributes.outer_radius,this.data.attributes.item_size/2);this.data.attributes.context.clearRect(t-s,e-s,2*s,2*s),this.config.use_background&&(this.data.attributes.context.beginPath(),this.data.attributes.context.arc(t,e,this.data.attributes.radius,0,2*Math.PI,!1),this.data.attributes.context.lineWidth=this.data.attributes.line_width*this.config.bg_width,this.data.attributes.context.strokeStyle=this.config.circle_bg_color,this.data.attributes.context.stroke());var r=-.5*Math.PI,n=-.5*Math.PI+2*a*Math.PI;this.data.attributes.context.beginPath(),this.data.attributes.context.arc(t,e,this.data.attributes.radius,r,n,!1),this.data.attributes.context.lineWidth=this.data.attributes.line_width,this.data.attributes.context.strokeStyle=i,this.data.attributes.context.stroke()},r.prototype.radialFade=function(t,i,a,s,r){var n,o=e(a),h=this,d=.2*(1===s?-1:1);for(n=0;s<=1&&s>=0;n++)!function(){var e="rgba("+o.r+", "+o.g+", "+o.b+", "+Math.round(10*s)/10+")";setTimeout(function(){h.drawArc(t,i,e,1)},50*n)}(),s+=d;setTimeout(function(){h.data.state.fading[r]=!1},50*n)},r.prototype.timeLeft=function(){var t=new Date;return(this.data.attributes.ref_date-t)/1e3},r.prototype.start=function(){var e=t(this.element).data("date");if("string"==typeof e)e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s[0-9]{1,2}:[0-9]{2}:[0-9]{2}$/).length>0&&(e=e.replace(" ","T")),this.data.attributes.ref_date=Date.parse(e);else{var i=t(this.element).attr("data-timer");"string"==typeof i?(this.data.attributes.timer=parseFloat(i),t(this.element).removeAttr("data-timer")):"string"==typeof this.config.timer?(this.data.attributes.timer=parseFloat(this.config.timer),this.config.timer=null):"number"==typeof this.config.timer&&(this.data.attributes.timer=a.config.timer,this.config.timer=null),"number"==typeof this.data.attributes.timer?this.data.attributes.ref_date=(new Date).getTime()+1e3*this.data.attributes.timer:this.data.attributes.ref_date=this.config.ref_date}var a=this;this.timer=setInterval(function(){a.updateArc()},1e3*this.config.refresh_interval)},r.prototype.stop=function(){"number"==typeof this.data.attributes.timer&&(this.data.attributes.timer=this.timeLeft(this)),clearInterval(this.timer)},r.prototype.destroy=function(){this.stop(),this.container.remove(),t(this.element).removeData("tc-id")},r.prototype.setOptions=function(e){null===this.config&&(this.default_options.ref_date=new Date,this.config=t.extend(!0,{},this.default_options)),t.extend(!0,this.config,e)},r.prototype.addListener=function(t){"function"==typeof t&&this.listeners.push(t)},r.prototype.notifyListeners=function(t,e,i){for(var a=0;a<this.listeners.length;a++)this.listeners[a](t,e,i)},r.prototype.default_options={ref_date:new Date,start:!0,refresh_interval:.1,count_past_zero:!0,circle_bg_color:"#60686F",use_background:!0,fg_width:.08,bg_width:1,time:{Days:{show:!0,text:"Дней",color:"#FC0"},Hours:{show:!0,text:"Часов",color:"#FC0"},Minutes:{show:!0,text:"Минут",color:"#FC0"},Seconds:{show:!0,text:"Секунд",color:"#FC0"}}};var n=function(t,e){this.elements=t,this.options=e,this.foreach()};n.prototype.foreach=function(e){var i=this;return this.elements.each(function(){var n,o=t(this).data("tc-id");if(void 0===o&&(o=a(),t(this).data("tc-id",o)),void 0===s[o]){var h=t(this).data("options"),d=i.options;"object"==typeof h&&(d=t.extend(!0,{},i.options,h)),n=new r(this,d),s[o]=n}else n=s[o],void 0!==i.options&&n.setOptions(i.options);"function"==typeof e&&e(n)}),this},n.prototype.start=function(){return this.foreach(function(t){t.start()}),this},n.prototype.stop=function(){return this.foreach(function(t){t.stop()}),this},n.prototype.addListener=function(t){return this.foreach(function(e){e.addListener(t)}),this},n.prototype.destroy=function(){return this.foreach(function(t){t.destroy()}),this},n.prototype.end=function(){return this.elements},t.fn.TimeCircles=function(t){return new n(this,t)}}(jQuery),$(document).ready(function(){var t={scaleColor:!1,trackColor:"#fc0",barColor:"#979797",lineWidth:6,lineCap:"butt",size:95};$(".nav-menu_items").click(function(){window.innerWidth<725&&$(".nav-menu_items li").slideToggle()}),$(".show-menu-aside").click(function(){$(".left-aside").toggle(300),$(".menu-aside-arrowd svg").toggleClass("rotate_90")}),$(".show-mobile-order button").click(function(){$(".left-aside-order").slideToggle()}),window.addEventListener("DOMContentLoaded",function(){var e=[];[].forEach.call(document.querySelectorAll(".chart"),function(i){e.push(new EasyPieChart(i,t))})});var e=$(".someTimer").TimeCircles();$(".fadeIn").click(function(){e.elements.last().fadeIn()}),$(".fadeOut").click(function(){e.elements.last().fadeOut()}),$(".startTimer").click(function(){$(".someTimer").eq(1).TimeCircles().start()}),$(".stopTimer").click(function(){$(".someTimer").eq(1).TimeCircles().stop()}),$(window).scroll(function(){$(this).scrollTop()>453?$(".left-aside-order").css({position:"fixed",top:"0px"}):$(".left-aside-order").css({position:"static"})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImhleFRvUmdiIiwiaGV4IiwicmVwbGFjZSIsIm0iLCJyIiwiZyIsImIiLCJyZXN1bHQiLCJleGVjIiwicGFyc2VJbnQiLCJzNCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiZ3VpZCIsIlRDX0luc3RhbmNlX0xpc3QiLCJUQ19JbnN0YW5jZSIsImVsZW1lbnQiLCJvcHRpb25zIiwidGhpcyIsImNvbnRhaW5lciIsInRpbWVyIiwiZGF0YSIsInRleHRfZWxlbWVudHMiLCJEYXlzIiwiSG91cnMiLCJNaW51dGVzIiwiU2Vjb25kcyIsImF0dHJpYnV0ZXMiLCJjYW52YXMiLCJjb250ZXh0IiwiaXRlbV9zaXplIiwibGluZV93aWR0aCIsInJhZGl1cyIsIm91dGVyX3JhZGl1cyIsInN0YXRlIiwiZmFkaW5nIiwibGlzdGVuZXJzIiwiY29uZmlnIiwic2V0T3B0aW9ucyIsImFkZENsYXNzIiwiYXBwZW5kVG8iLCJnZXRDb250ZXh0IiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsIm1pbiIsImZnX3dpZHRoIiwibWF4IiwiYmdfd2lkdGgiLCJpIiwia2V5IiwidGV4dEVsZW1lbnQiLCJjc3MiLCJyb3VuZCIsImhlYWRlckVsZW1lbnQiLCJ0ZXh0IiwidGltZSIsIm51bWJlckVsZW1lbnQiLCJzdGFydCIsInByb3RvdHlwZSIsInVwZGF0ZUFyYyIsImRpZmYiLCJvbGRfZGlmZiIsImludGVydmFsIiwicmVmcmVzaF9pbnRlcnZhbCIsImN1ckRhdGUiLCJEYXRlIiwiY291bnRfcGFzdF96ZXJvIiwicHJldkRhdGUiLCJhYnMiLCJyZWZfZGF0ZSIsInBjdCIsIm9sZF90aW1lIiwibGFzdEtleSIsIngiLCJ5IiwiY29sb3IiLCJub3RpZnlMaXN0ZW5lcnMiLCJyYWRpYWxGYWRlIiwiZHJhd0FyYyIsImNsZWFyX3JhZGl1cyIsImNsZWFyUmVjdCIsInVzZV9iYWNrZ3JvdW5kIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsImNpcmNsZV9iZ19jb2xvciIsInN0cm9rZSIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsImZyb20iLCJyZ2IiLCJfdGhpcyIsInN0ZXAiLCJyZ2JhIiwic2V0VGltZW91dCIsInRpbWVMZWZ0Iiwibm93IiwiYXR0cl9kYXRhX2RhdGUiLCJtYXRjaCIsImxlbmd0aCIsInBhcnNlIiwiYXR0cl9kYXRhX3RpbWVyIiwiYXR0ciIsInBhcnNlRmxvYXQiLCJyZW1vdmVBdHRyIiwiZ2V0VGltZSIsInNldEludGVydmFsIiwic3RvcCIsImNsZWFySW50ZXJ2YWwiLCJkZXN0cm95IiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsImRlZmF1bHRfb3B0aW9ucyIsImV4dGVuZCIsImFkZExpc3RlbmVyIiwiZiIsInB1c2giLCJ1bml0IiwidmFsdWUiLCJ0b3RhbCIsInNob3ciLCJUQ19DbGFzcyIsImVsZW1lbnRzIiwiZm9yZWFjaCIsImNhbGxiYWNrIiwiZWFjaCIsImluc3RhbmNlIiwiY3VyX2lkIiwiZWxlbWVudF9vcHRpb25zIiwiZW5kIiwiZm4iLCJUaW1lQ2lyY2xlcyIsImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCJzY2FsZUNvbG9yIiwidHJhY2tDb2xvciIsImJhckNvbG9yIiwibGluZUNhcCIsInNpemUiLCJjbGljayIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJzbGlkZVRvZ2dsZSIsInRvZ2dsZSIsInRvZ2dsZUNsYXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoYXJ0cyIsImZvckVhY2giLCJjYWxsIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiRWFzeVBpZUNoYXJ0IiwidGltZUNpcmNsZXMiLCJsYXN0IiwiZmFkZUluIiwiZmFkZU91dCIsImVxIiwic2Nyb2xsIiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiXSwibWFwcGluZ3MiOiJDQWVDLFNBQVNBLEdBT04sUUFBU0Ms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Qm9KLE1BQU0sV0FDcEJDLE9BQU9DLFdBQWEsS0FDdkJ0SixFQUFFLHNCQUFzQnVKLGdCQUc1QnZKLEVBQUUsb0JBQW9Cb0osTUFBTSxXQUN4QnBKLEVBQUUsZUFBZXdKLE9BQU8sS0FDeEJ4SixFQUFFLDBCQUEwQnlKLFlBQVksZUFFNUN6SixFQUFFLDZCQUE2Qm9KLE1BQU0sV0FDakNwSixFQUFFLHFCQUFxQnVKLGdCQUczQkYsT0FBT0ssaUJBQWlCLG1CQUFvQixXQUMxQyxHQUFJQyxTQUNEQyxRQUFRQyxLQUFLaEIsU0FBU2lCLGlCQUFpQixVQUFZLFNBQVNDLEdBQzdESixFQUFPL0IsS0FBSyxHQUFJb0MsY0FBYUQsRUFBSTFJLE9BR3pCLElBQUk0SSxHQUFjakssRUFBRSxjQUFjMkksYUFHbEMzSSxHQUFFLFdBQVdvSixNQUFNLFdBQ2ZhLEVBQVkvQixTQUFTZ0MsT0FBT0MsV0FFaENuSyxFQUFFLFlBQVlvSixNQUFNLFdBQ2hCYSxFQUFZL0IsU0FBU2dDLE9BQU9FLFlBSWhDcEssRUFBRSxlQUFlb0osTUFBTSxXQUNuQnBKLEVBQUUsY0FBY3FLLEdBQUcsR0FBRzFCLGNBQWM1RSxVQUV4Qy9ELEVBQUUsY0FBY29KLE1BQU0sV0FDbEJwSixFQUFFLGNBQWNxSyxHQUFHLEdBQUcxQixjQUFjeEIsU0FLbkRuSCxFQUFFcUosUUFBUWlCLE9BQU8sV0FDZHRLLEVBQUVzQixNQUFNaUosWUFBWSxJQUFLdkssRUFBRSxxQkFBcUJ5RCxLQUFLK0csU0FBVyxRQUFRQyxJQUFNLFFBQzdFekssRUFBRSxxQkFBcUJ5RCxLQUFLK0csU0FBVyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEJhc2ljIHN0cnVjdHVyZTogVENfQ2xhc3MgaXMgdGhlIHB1YmxpYyBjbGFzcyB0aGF0IGlzIHJldHVybmVkIHVwb24gYmVpbmcgY2FsbGVkXHJcbiAqIFxyXG4gKiBTbywgaWYgeW91IGRvXHJcbiAqICAgICAgdmFyIHRjID0gJChcIi50aW1lclwiKS5UaW1lQ2lyY2xlcygpO1xyXG4gKiAgICAgIFxyXG4gKiB0YyB3aWxsIGNvbnRhaW4gYW4gaW5zdGFuY2Ugb2YgdGhlIHB1YmxpYyBUaW1lQ2lyY2xlcyBjbGFzcy4gSXQgaXMgaW1wb3J0YW50IHRvXHJcbiAqIG5vdGUgdGhhdCBUaW1lQ2lyY2xlcyBpcyBub3QgY2hhaW5lZCBpbiB0aGUgY29udmVudGlvbmFsIHdheSwgY2hlY2sgdGhlXHJcbiAqIGRvY3VtZW50YXRpb24gZm9yIG1vcmUgaW5mbyBvbiBob3cgVGltZUNpcmNsZXMgY2FuIGJlIGNoYWluZWQuXHJcbiAqIFxyXG4gKiBBZnRlciBiZWluZyBjYWxsZWQvY3JlYXRlZCwgdGhlIHB1YmxpYyBUaW1lckNpcmNsZXMgY2xhc3Mgd2lsbCB0aGVuLSBmb3IgZWFjaCBlbGVtZW50XHJcbiAqIHdpdGhpbiBpdCdzIGNvbGxlY3Rpb24sIGVpdGhlciBmZXRjaCBvciBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIHByaXZhdGUgY2xhc3MuXHJcbiAqIEVhY2ggZnVuY3Rpb24gY2FsbGVkIHVwb24gdGhlIHB1YmxpYyBjbGFzcyB3aWxsIGJlIGZvcndhcmRlZCB0byBlYWNoIGluc3RhbmNlXHJcbiAqIG9mIHRoZSBwcml2YXRlIGNsYXNzZXMgd2l0aGluIHRoZSByZWxldmFudCBlbGVtZW50IGNvbGxlY3Rpb25cclxuICoqL1xyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBoZXggY29sb3IgY29kZSBpbnRvIG9iamVjdCBjb250YWluaW5nIGludGVnZXIgdmFsdWVzIGZvciB0aGUgcixnLGIgdXNlXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIChoZXhUb1JnYikgb3JpZ2luYXRlcyBmcm9tOlxyXG4gICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjIzODM4L3JnYi10by1oZXgtYW5kLWhleC10by1yZ2JcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXggY29sb3IgY29kZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBoZXhUb1JnYihoZXgpIHtcclxuICAgICAgICAvLyBFeHBhbmQgc2hvcnRoYW5kIGZvcm0gKGUuZy4gXCIwM0ZcIikgdG8gZnVsbCBmb3JtIChlLmcuIFwiMDAzM0ZGXCIpXHJcbiAgICAgICAgdmFyIHNob3J0aGFuZFJlZ2V4ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcclxuICAgICAgICBoZXggPSBoZXgucmVwbGFjZShzaG9ydGhhbmRSZWdleCwgZnVuY3Rpb24obSwgciwgZywgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gciArIHIgKyBnICsgZyArIGIgKyBiO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA/IHtcclxuICAgICAgICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXHJcbiAgICAgICAgICAgIGc6IHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpLFxyXG4gICAgICAgICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KVxyXG4gICAgICAgIH0gOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb24gczQoKSBhbmQgZ3VpZCgpIG9yaWdpbmF0ZSBmcm9tOlxyXG4gICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHM0KCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgICAgIC5zdWJzdHJpbmcoMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgdW5pcXVlIGlkXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBndWlkKCkge1xyXG4gICAgICAgIHJldHVybiBzNCgpICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICtcclxuICAgICAgICAgICAgczQoKSArICctJyArIHM0KCkgKyBzNCgpICsgczQoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdmFyIFRDX0luc3RhbmNlX0xpc3QgPSB7fTtcclxuXHJcbiAgICB2YXIgVENfSW5zdGFuY2UgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGEgPSB7XHJcbiAgICAgICAgICAgIHRleHRfZWxlbWVudHM6IHtcclxuICAgICAgICAgICAgICAgIERheXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBIb3VyczogbnVsbCxcclxuICAgICAgICAgICAgICAgIE1pbnV0ZXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBTZWNvbmRzOiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhczogbnVsbCxcclxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBpdGVtX3NpemU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBsaW5lX3dpZHRoOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3V0ZXJfcmFkaXVzOiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICBmYWRpbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICBEYXlzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBIb3VyczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgTWludXRlczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgU2Vjb25kczogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gJChcIjxkaXY+XCIpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCd0aW1lX2NpcmNsZXMnKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jYW52YXMgPSAkKFwiPGNhbnZhcz5cIik7XHJcbiAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMuY29udGV4dCA9IHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmNhbnZhc1swXS5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgICAgICBpZihoZWlnaHQgPT09IDAgJiYgd2lkdGggPiAwKSBoZWlnaHQgPSB3aWR0aCAvIDQ7XHJcbiAgICAgICAgZWxzZSBpZih3aWR0aCA9PT0gMCAmJiBoZWlnaHQgPiAwKSB3aWR0aCA9IGhlaWdodCAqIDQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMuY2FudmFzWzBdLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jYW52YXNbMF0ud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jYW52YXMuYXBwZW5kVG8odGhpcy5jb250YWluZXIpO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5pdGVtX3NpemUgPSBNYXRoLm1pbih0aGlzLmRhdGEuYXR0cmlidXRlcy5jYW52YXNbMF0ud2lkdGggLyA0LCB0aGlzLmRhdGEuYXR0cmlidXRlcy5jYW52YXNbMF0uaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5saW5lX3dpZHRoID0gdGhpcy5kYXRhLmF0dHJpYnV0ZXMuaXRlbV9zaXplICogdGhpcy5jb25maWcuZmdfd2lkdGg7XHJcbiAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMucmFkaXVzID0gKCh0aGlzLmRhdGEuYXR0cmlidXRlcy5pdGVtX3NpemUgKiAwLjgpIC0gdGhpcy5kYXRhLmF0dHJpYnV0ZXMubGluZV93aWR0aCkgLyAyO1xyXG4gICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLm91dGVyX3JhZGl1cyA9IHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnJhZGl1cyArIDAuNSAqIE1hdGgubWF4KHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmxpbmVfd2lkdGgsIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmxpbmVfd2lkdGggKiB0aGlzLmNvbmZpZy5iZ193aWR0aCk7XHJcblxyXG4gICAgICAgIC8vIFByZXBhcmUgVGltZSBFbGVtZW50c1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5kYXRhLnRleHRfZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gJChcIjxkaXY+XCIpO1xyXG4gICAgICAgICAgICB0ZXh0RWxlbWVudC5hZGRDbGFzcygndGV4dERpdl8nICsga2V5KTtcclxuICAgICAgICAgICAgdGV4dEVsZW1lbnQuY3NzKFwidG9wXCIsIE1hdGgucm91bmQoMC4zNSAqIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLml0ZW1fc2l6ZSkpO1xyXG4gICAgICAgICAgICB0ZXh0RWxlbWVudC5jc3MoXCJsZWZ0XCIsIE1hdGgucm91bmQoaSsrICogdGhpcy5kYXRhLmF0dHJpYnV0ZXMuaXRlbV9zaXplKSk7XHJcbiAgICAgICAgICAgIHRleHRFbGVtZW50LmNzcyhcIndpZHRoXCIsIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLml0ZW1fc2l6ZSk7XHJcbiAgICAgICAgICAgIHRleHRFbGVtZW50LmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJFbGVtZW50ID0gJChcIjxoND5cIik7XHJcbiAgICAgICAgICAgIGhlYWRlckVsZW1lbnQudGV4dCh0aGlzLmNvbmZpZy50aW1lW2tleV0udGV4dCk7IC8vIE9wdGlvbnNcclxuICAgICAgICAgICAgaGVhZGVyRWxlbWVudC5jc3MoXCJmb250LXNpemVcIiwgTWF0aC5yb3VuZCgwLjA3ICogdGhpcy5kYXRhLmF0dHJpYnV0ZXMuaXRlbV9zaXplKSk7XHJcbiAgICAgICAgICAgIGhlYWRlckVsZW1lbnQuY3NzKFwibGluZS1oZWlnaHRcIiwgTWF0aC5yb3VuZCgwLjA3ICogdGhpcy5kYXRhLmF0dHJpYnV0ZXMuaXRlbV9zaXplKSArIFwicHhcIik7XHJcbiAgICAgICAgICAgIGhlYWRlckVsZW1lbnQuYXBwZW5kVG8odGV4dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIG51bWJlckVsZW1lbnQgPSAkKFwiPHNwYW4+XCIpO1xyXG4gICAgICAgICAgICBudW1iZXJFbGVtZW50LmNzcyhcImZvbnQtc2l6ZVwiLCBNYXRoLnJvdW5kKDAuMjEgKiB0aGlzLmRhdGEuYXR0cmlidXRlcy5pdGVtX3NpemUpKTtcclxuICAgICAgICAgICAgbnVtYmVyRWxlbWVudC5jc3MoXCJsaW5lLWhlaWdodFwiLCBNYXRoLnJvdW5kKDAuMDcgKiB0aGlzLmRhdGEuYXR0cmlidXRlcy5pdGVtX3NpemUpICsgXCJweFwiKTtcclxuICAgICAgICAgICAgbnVtYmVyRWxlbWVudC5hcHBlbmRUbyh0ZXh0RWxlbWVudCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmRhdGEudGV4dF9lbGVtZW50c1trZXldID0gbnVtYmVyRWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zdGFydClcclxuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBUQ19JbnN0YW5jZS5wcm90b3R5cGUudXBkYXRlQXJjID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRpZmYsIG9sZF9kaWZmO1xyXG5cclxuICAgICAgICB2YXIgaW50ZXJ2YWwgPSAoMTAwMCAqIHRoaXMuY29uZmlnLnJlZnJlc2hfaW50ZXJ2YWwpO1xyXG4gICAgICAgIHZhciBjdXJEYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gQ29tcGFyZSBjdXJyZW50IHRpbWUgd2l0aCByZWZlcmVuY2VcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuY291bnRfcGFzdF96ZXJvKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmV2RGF0ZSA9IGN1ckRhdGUgLSBpbnRlcnZhbDtcclxuICAgICAgICAgICAgZGlmZiA9IE1hdGguYWJzKGN1ckRhdGUgLSB0aGlzLmRhdGEuYXR0cmlidXRlcy5yZWZfZGF0ZSkgLyAxMDAwO1xyXG4gICAgICAgICAgICBvbGRfZGlmZiA9IE1hdGguYWJzKHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnJlZl9kYXRlIC0gcHJldkRhdGUpIC8gMTAwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRpZmYgPSBNYXRoLm1heCh0aGlzLmRhdGEuYXR0cmlidXRlcy5yZWZfZGF0ZSAtIGN1ckRhdGUsIDApIC8gMTAwMDtcclxuICAgICAgICAgICAgb2xkX2RpZmYgPSBkaWZmICsgKGN1ckRhdGUgPiB0aGlzLmRhdGEuYXR0cmlidXRlcy5yZWZfZGF0ZSkgPyAwIDogaW50ZXJ2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdGltZSA9IHtcclxuICAgICAgICAgICAgRGF5czogKGRpZmYgLyA2MCAvIDYwIC8gMjQpLFxyXG4gICAgICAgICAgICBIb3VyczogKGRpZmYgLyA2MCAvIDYwKSAlIDI0LFxyXG4gICAgICAgICAgICBNaW51dGVzOiAoZGlmZiAvIDYwKSAlIDYwLFxyXG4gICAgICAgICAgICBTZWNvbmRzOiBkaWZmICUgNjBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBwY3QgPSB7XHJcbiAgICAgICAgICAgIERheXM6IHRpbWUuRGF5cyAvIDM2NSxcclxuICAgICAgICAgICAgSG91cnM6IHRpbWUuSG91cnMgLyAyNCxcclxuICAgICAgICAgICAgTWludXRlczogdGltZS5NaW51dGVzIC8gNjAsXHJcbiAgICAgICAgICAgIFNlY29uZHM6IHRpbWUuU2Vjb25kcyAvIDYwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIG9sZF90aW1lID0ge1xyXG4gICAgICAgICAgICBEYXlzOiAob2xkX2RpZmYgLyA2MCAvIDYwIC8gMjQpLFxyXG4gICAgICAgICAgICBIb3VyczogKG9sZF9kaWZmIC8gNjAgLyA2MCkgJSAyNCxcclxuICAgICAgICAgICAgTWludXRlczogKG9sZF9kaWZmIC8gNjApICUgNjAsXHJcbiAgICAgICAgICAgIFNlY29uZHM6IG9sZF9kaWZmICUgNjBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIGxhc3RLZXkgPSBudWxsO1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aW1lKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgdGV4dCB2YWx1ZVxyXG4gICAgICAgICAgICB0aGlzLmRhdGEudGV4dF9lbGVtZW50c1trZXldLnRleHQoTWF0aC5mbG9vcih0aW1lW2tleV0pKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4ID0gKGkgKiB0aGlzLmRhdGEuYXR0cmlidXRlcy5pdGVtX3NpemUpICsgKHRoaXMuZGF0YS5hdHRyaWJ1dGVzLml0ZW1fc2l6ZSAvIDIpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IHRoaXMuZGF0YS5hdHRyaWJ1dGVzLml0ZW1fc2l6ZSAvIDI7XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9IHRoaXMuY29uZmlnLnRpbWVba2V5XS5jb2xvcjtcclxuXHJcbiAgICAgICAgICAgIGlmKE1hdGguZmxvb3IodGltZVtrZXldKSAhPT0gTWF0aC5mbG9vcihvbGRfdGltZVtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoa2V5LCBNYXRoLmZsb29yKHRpbWVba2V5XSksIE1hdGguZmxvb3IoZGlmZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE86IENoZWNrIG9wdGlvbnMgZm9yIGZhZGluZyA9PSB0cnVlXHJcbiAgICAgICAgICAgIGlmIChsYXN0S2V5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5mbG9vcih0aW1lW2xhc3RLZXldKSA+IE1hdGguZmxvb3Iob2xkX3RpbWVbbGFzdEtleV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWRpYWxGYWRlKHgsIHksIGNvbG9yLCAxLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zdGF0ZS5mYWRpbmdba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChNYXRoLmZsb29yKHRpbWVbbGFzdEtleV0pIDwgTWF0aC5mbG9vcihvbGRfdGltZVtsYXN0S2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZGlhbEZhZGUoeCwgeSwgY29sb3IsIDAsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnN0YXRlLmZhZGluZ1trZXldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGF0YS5zdGF0ZS5mYWRpbmdba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3QXJjKHgsIHksIGNvbG9yLCBwY3Rba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdEtleSA9IGtleTtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIFRDX0luc3RhbmNlLnByb3RvdHlwZS5kcmF3QXJjID0gZnVuY3Rpb24oeCwgeSwgY29sb3IsIHBjdCkge1xyXG4gICAgICAgIHZhciBjbGVhcl9yYWRpdXMgPSBNYXRoLm1heCh0aGlzLmRhdGEuYXR0cmlidXRlcy5vdXRlcl9yYWRpdXMsIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLml0ZW1fc2l6ZSAvIDIpO1xyXG4gICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmNvbnRleHQuY2xlYXJSZWN0KFxyXG4gICAgICAgICAgICB4IC0gY2xlYXJfcmFkaXVzLFxyXG4gICAgICAgICAgICB5IC0gY2xlYXJfcmFkaXVzLFxyXG4gICAgICAgICAgICBjbGVhcl9yYWRpdXMgKiAyLFxyXG4gICAgICAgICAgICBjbGVhcl9yYWRpdXMgKiAyXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy51c2VfYmFja2dyb3VuZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jb250ZXh0LmFyYyh4LCB5LCB0aGlzLmRhdGEuYXR0cmlidXRlcy5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmNvbnRleHQubGluZVdpZHRoID0gdGhpcy5kYXRhLmF0dHJpYnV0ZXMubGluZV93aWR0aCAqIHRoaXMuY29uZmlnLmJnX3dpZHRoO1xyXG5cclxuICAgICAgICAgICAgLy8gbGluZSBjb2xvclxyXG4gICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5jb25maWcuY2lyY2xlX2JnX2NvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5jb250ZXh0LnN0cm9rZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAoLTAuNSAqIE1hdGguUEkpO1xyXG4gICAgICAgIHZhciBlbmRBbmdsZSA9ICgtMC41ICogTWF0aC5QSSkgKyAoMiAqIHBjdCAqIE1hdGguUEkpO1xyXG4gICAgICAgIHZhciBjb3VudGVyQ2xvY2t3aXNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMuY29udGV4dC5hcmMoeCwgeSwgdGhpcy5kYXRhLmF0dHJpYnV0ZXMucmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgY291bnRlckNsb2Nrd2lzZSk7XHJcbiAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMuY29udGV4dC5saW5lV2lkdGggPSB0aGlzLmRhdGEuYXR0cmlidXRlcy5saW5lX3dpZHRoO1xyXG5cclxuICAgICAgICAvLyBsaW5lIGNvbG9yXHJcbiAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMuY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLmNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0luc3RhbmNlLnByb3RvdHlwZS5yYWRpYWxGYWRlID0gZnVuY3Rpb24oeCwgeSwgY29sb3IsIGZyb20sIGtleSkge1xyXG4gICAgICAgIC8vIFRPRE86IE1ha2UgZmFkZV90aW1lIG9wdGlvblxyXG4gICAgICAgIHZhciByZ2IgPSBoZXhUb1JnYihjb2xvcik7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gV2UgaGF2ZSBhIGZldyBpbm5lciBzY29wZXMgaGVyZSB0aGF0IHdpbGwgbmVlZCBhY2Nlc3MgdG8gb3VyIGluc3RhbmNlXHJcblxyXG4gICAgICAgIHZhciBzdGVwID0gMC4yICogKChmcm9tID09PSAxKSA/IC0xIDogMSk7XHJcbiAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgZnJvbSA8PSAxICYmIGZyb20gPj0gMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBpbm5lciBzY29wZSBzbyBvdXIgdmFyaWFibGVzIGFyZSBub3QgY2hhbmdlZCBieSB0aGUgdGltZSB0aGUgVGltZW91dCB0cmlnZ2Vyc1xyXG4gICAgICAgICAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmdiYSA9IFwicmdiYShcIiArIHJnYi5yICsgXCIsIFwiICsgcmdiLmcgKyBcIiwgXCIgKyByZ2IuYiArIFwiLCBcIiArIChNYXRoLnJvdW5kKGZyb20gKiAxMCkgLyAxMCkgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhd0FyYyh4LCB5LCByZ2JhLCAxKTtcclxuICAgICAgICAgICAgICAgIH0sIDUwICogaSk7XHJcbiAgICAgICAgICAgIH0oKSk7XHJcbiAgICAgICAgICAgIGZyb20gKz0gc3RlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgX3RoaXMuZGF0YS5zdGF0ZS5mYWRpbmdba2V5XSA9IGZhbHNlO1xyXG4gICAgICAgIH0sIDUwICogaSk7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0luc3RhbmNlLnByb3RvdHlwZS50aW1lTGVmdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiAoKHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnJlZl9kYXRlIC0gbm93KSAvIDEwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICBUQ19JbnN0YW5jZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiBhIGRhdGUgd2FzIHBhc3NlZCBpbiBodG1sIGF0dHJpYnV0ZSwgaWYgbm90LCBmYWxsIGJhY2sgdG8gY29uZmlnXHJcbiAgICAgICAgdmFyIGF0dHJfZGF0YV9kYXRlID0gJCh0aGlzLmVsZW1lbnQpLmRhdGEoJ2RhdGUnKTtcclxuICAgICAgICBpZiAodHlwZW9mIGF0dHJfZGF0YV9kYXRlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmIChhdHRyX2RhdGFfZGF0ZS5tYXRjaCgvXlswLTldezR9LVswLTldezJ9LVswLTldezJ9XFxzWzAtOV17MSwyfTpbMC05XXsyfTpbMC05XXsyfSQvKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyX2RhdGFfZGF0ZSA9IGF0dHJfZGF0YV9kYXRlLnJlcGxhY2UoJyAnLCAnVCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnJlZl9kYXRlID0gRGF0ZS5wYXJzZShhdHRyX2RhdGFfZGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYXR0cl9kYXRhX3RpbWVyID0gJCh0aGlzLmVsZW1lbnQpLmF0dHIoJ2RhdGEtdGltZXInKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyX2RhdGFfdGltZXIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnRpbWVyID0gcGFyc2VGbG9hdChhdHRyX2RhdGFfdGltZXIpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZUF0dHIoJ2RhdGEtdGltZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5jb25maWcudGltZXIgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnRpbWVyID0gcGFyc2VGbG9hdCh0aGlzLmNvbmZpZy50aW1lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy50aW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRoaXMuY29uZmlnLnRpbWVyID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy50aW1lciA9IF90aGlzLmNvbmZpZy50aW1lcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnRpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEuYXR0cmlidXRlcy50aW1lciA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmF0dHJpYnV0ZXMucmVmX2RhdGUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgKHRoaXMuZGF0YS5hdHRyaWJ1dGVzLnRpbWVyICogMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy5yZWZfZGF0ZSA9IHRoaXMuY29uZmlnLnJlZl9kYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdGFydCBydW5uaW5nXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7IF90aGlzLnVwZGF0ZUFyYygpOyB9LCB0aGlzLmNvbmZpZy5yZWZyZXNoX2ludGVydmFsICogMTAwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0luc3RhbmNlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRhdGEuYXR0cmlidXRlcy50aW1lciA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEuYXR0cmlidXRlcy50aW1lciA9IHRoaXMudGltZUxlZnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0b3AgcnVubmluZ1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0luc3RhbmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZURhdGEoJ3RjLWlkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0luc3RhbmNlLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIGlmKHRoaXMuY29uZmlnID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdF9vcHRpb25zLnJlZl9kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5kZWZhdWx0X29wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkLmV4dGVuZCh0cnVlLCB0aGlzLmNvbmZpZywgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBUQ19JbnN0YW5jZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbihmKSB7XHJcbiAgICAgICAgaWYodHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2goZik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBUQ19JbnN0YW5jZS5wcm90b3R5cGUubm90aWZ5TGlzdGVuZXJzID0gZnVuY3Rpb24odW5pdCwgdmFsdWUsIHRvdGFsKSB7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2ldKHVuaXQsIHZhbHVlLCB0b3RhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBUQ19JbnN0YW5jZS5wcm90b3R5cGUuZGVmYXVsdF9vcHRpb25zID0ge1xyXG4gICAgICAgIHJlZl9kYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHN0YXJ0OiB0cnVlLFxyXG4gICAgICAgIHJlZnJlc2hfaW50ZXJ2YWw6IDAuMSxcclxuICAgICAgICBjb3VudF9wYXN0X3plcm86IHRydWUsXHJcbiAgICAgICAgY2lyY2xlX2JnX2NvbG9yOiBcIiM2MDY4NkZcIixcclxuICAgICAgICB1c2VfYmFja2dyb3VuZDogdHJ1ZSxcclxuICAgICAgICBmZ193aWR0aDogMC4wOCxcclxuICAgICAgICBiZ193aWR0aDogMSxcclxuICAgICAgICB0aW1lOiB7XHJcbiAgICAgICAgICAgIERheXM6IHtcclxuICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcItCU0L3QtdC5XCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjRkMwXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgSG91cnM6IHtcclxuICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBcItCn0LDRgdC+0LJcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGQzBcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBNaW51dGVzOiB7XHJcbiAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogXCLQnNC40L3Rg9GCXCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjRkMwXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgU2Vjb25kczoge1xyXG4gICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRleHQ6IFwi0KHQtdC60YPQvdC0XCIsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjRkMwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVGltZSBjaXJjbGUgY2xhc3NcclxuICAgIHZhciBUQ19DbGFzcyA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5mb3JlYWNoKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0NsYXNzLnByb3RvdHlwZS5mb3JlYWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlO1xyXG4gICAgICAgICAgICB2YXIgY3VyX2lkID0gJCh0aGlzKS5kYXRhKFwidGMtaWRcIik7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VyX2lkID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJfaWQgPSBndWlkKCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoXCJ0Yy1pZFwiLCBjdXJfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgVENfSW5zdGFuY2VfTGlzdFtjdXJfaWRdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudF9vcHRpb25zID0gJCh0aGlzKS5kYXRhKCdvcHRpb25zJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgZWxlbWVudF9vcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBfdGhpcy5vcHRpb25zLCBlbGVtZW50X29wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBuZXcgVENfSW5zdGFuY2UodGhpcywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBUQ19JbnN0YW5jZV9MaXN0W2N1cl9pZF0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gVENfSW5zdGFuY2VfTGlzdFtjdXJfaWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5vcHRpb25zICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2V0T3B0aW9ucyhfdGhpcy5vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgVENfQ2xhc3MucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIFRDX0NsYXNzLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgVENfQ2xhc3MucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMuZm9yZWFjaChmdW5jdGlvbihpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5hZGRMaXN0ZW5lcihmKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBcclxuICAgIFRDX0NsYXNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgVENfQ2xhc3MucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzO1xyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLlRpbWVDaXJjbGVzID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVENfQ2xhc3ModGhpcywgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG59KGpRdWVyeSkpO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxudmFyIG9wdGlvbnMgPSB7XHJcbiAgc2NhbGVDb2xvcjogZmFsc2UsXHJcbiAgdHJhY2tDb2xvcjogJyNmYzAnLFxyXG4gIGJhckNvbG9yOiAnIzk3OTc5NycsXHJcbiAgbGluZVdpZHRoOiA2LFxyXG4gIGxpbmVDYXA6ICdidXR0JyxcclxuICBzaXplOiA5NVxyXG59O1xyXG5cclxuJCgnLm5hdi1tZW51X2l0ZW1zJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgNzI1KSB7XHJcbiAgICAkKCcubmF2LW1lbnVfaXRlbXMgbGknKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfVxyXG59KTsgXHJcbiQoJy5zaG93LW1lbnUtYXNpZGUnKS5jbGljayhmdW5jdGlvbigpeyAgICBcclxuICAgICQoJy5sZWZ0LWFzaWRlJykudG9nZ2xlKDMwMCk7XHJcbiAgICAkKCcubWVudS1hc2lkZS1hcnJvd2Qgc3ZnJykudG9nZ2xlQ2xhc3MoJ3JvdGF0ZV85MCcpOyAgICBcclxufSk7XHJcbiQoJy5zaG93LW1vYmlsZS1vcmRlciBidXR0b24nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJCgnLmxlZnQtYXNpZGUtb3JkZXInKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfSk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xyXG4gIHZhciBjaGFydHMgPSBbXTtcclxuICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXJ0JyksICBmdW5jdGlvbihlbCkge1xyXG4gICAgY2hhcnRzLnB1c2gobmV3IEVhc3lQaWVDaGFydChlbCwgb3B0aW9ucykpO1xyXG4gIH0pO1xyXG59KTtcclxuICAgICAgICAgICAgdmFyIHRpbWVDaXJjbGVzID0gJChcIi5zb21lVGltZXJcIikuVGltZUNpcmNsZXMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZhZGUgaW4gYW5kIGZhZGUgb3V0IGFyZSBleGFtcGxlcyBvZiBob3cgY2hhaW5pbmcgY2FuIGJlIGRvbmUgd2l0aCBUaW1lQ2lyY2xlc1xyXG4gICAgICAgICAgICAkKFwiLmZhZGVJblwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVDaXJjbGVzLmVsZW1lbnRzLmxhc3QoKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIuZmFkZU91dFwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHRpbWVDaXJjbGVzLmVsZW1lbnRzLmxhc3QoKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gU3RhcnQgYW5kIHN0b3AgYXJlIG1ldGhvZHMgYXBwbGllZCBvbiB0aGUgcHVibGljIFRpbWVDaXJjbGVzIGluc3RhbmNlXHJcbiAgICAgICAgICAgICQoXCIuc3RhcnRUaW1lclwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoXCIuc29tZVRpbWVyXCIpLmVxKDEpLlRpbWVDaXJjbGVzKCkuc3RhcnQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIuc3RvcFRpbWVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5zb21lVGltZXJcIikuZXEoMSkuVGltZUNpcmNsZXMoKS5zdG9wKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuXHJcblx0JCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsgXHJcbmlmICgkKHRoaXMpLnNjcm9sbFRvcCgpPjQ1MykgJCgnLmxlZnQtYXNpZGUtb3JkZXInKS5jc3Moeydwb3NpdGlvbic6J2ZpeGVkJywndG9wJzonMHB4J30pOyBcclxuZWxzZSAkKCcubGVmdC1hc2lkZS1vcmRlcicpLmNzcyh7J3Bvc2l0aW9uJzonc3RhdGljJ30pOyBcclxufSk7ICAgIFxyXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
